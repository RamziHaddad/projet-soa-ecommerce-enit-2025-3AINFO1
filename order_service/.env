# Application Configuration
SPRING_APPLICATION_NAME=order-service

# Database Configuration
SPRING_DATASOURCE_URL=jdbc:postgresql://localhost:5432/order_db
SPRING_DATASOURCE_USERNAME=postgres
SPRING_DATASOURCE_PASSWORD=postgres
SPRING_DATASOURCE_DRIVER=org.postgresql.Driver

# JPA Configuration
SPRING_JPA_HIBERNATE_DDL_AUTO=update
SPRING_JPA_SHOW_SQL=true
SPRING_JPA_HIBERNATE_DIALECT=org.hibernate.dialect.PostgreSQLDialect
SPRING_JPA_HIBERNATE_FORMAT_SQL=true

# Server Configuration
SERVER_PORT=8080

# External Services Configuration
INVENTORY_SERVICE_URL=http://localhost:8081
PAYMENT_SERVICE_URL=http://localhost:8082
SHIPPING_SERVICE_URL=http://localhost:8083

# Feign Configuration
FEIGN_CONNECT_TIMEOUT=5000
FEIGN_READ_TIMEOUT=5000
FEIGN_LOGGER_LEVEL=full

# Resilience4j Circuit Breaker Configuration - Inventory Service
CIRCUITBREAKER_INVENTORY_REGISTER_HEALTH_INDICATOR=true
CIRCUITBREAKER_INVENTORY_SLIDING_WINDOW_TYPE=COUNT_BASED
CIRCUITBREAKER_INVENTORY_SLIDING_WINDOW_SIZE=10
CIRCUITBREAKER_INVENTORY_MINIMUM_NUMBER_OF_CALLS=5
CIRCUITBREAKER_INVENTORY_PERMITTED_NUMBER_OF_CALLS_HALF_OPEN=3
CIRCUITBREAKER_INVENTORY_AUTO_TRANSITION_ENABLED=true
CIRCUITBREAKER_INVENTORY_WAIT_DURATION=30s
CIRCUITBREAKER_INVENTORY_FAILURE_RATE_THRESHOLD=50
CIRCUITBREAKER_INVENTORY_EVENT_CONSUMER_BUFFER_SIZE=10

# Resilience4j Circuit Breaker Configuration - Payment Service
CIRCUITBREAKER_PAYMENT_REGISTER_HEALTH_INDICATOR=true
CIRCUITBREAKER_PAYMENT_SLIDING_WINDOW_TYPE=COUNT_BASED
CIRCUITBREAKER_PAYMENT_SLIDING_WINDOW_SIZE=10
CIRCUITBREAKER_PAYMENT_MINIMUM_NUMBER_OF_CALLS=5
CIRCUITBREAKER_PAYMENT_PERMITTED_NUMBER_OF_CALLS_HALF_OPEN=3
CIRCUITBREAKER_PAYMENT_AUTO_TRANSITION_ENABLED=true
CIRCUITBREAKER_PAYMENT_WAIT_DURATION=30s
CIRCUITBREAKER_PAYMENT_FAILURE_RATE_THRESHOLD=50
CIRCUITBREAKER_PAYMENT_EVENT_CONSUMER_BUFFER_SIZE=10

# Resilience4j Circuit Breaker Configuration - Shipping Service
CIRCUITBREAKER_SHIPPING_REGISTER_HEALTH_INDICATOR=true
CIRCUITBREAKER_SHIPPING_SLIDING_WINDOW_TYPE=COUNT_BASED
CIRCUITBREAKER_SHIPPING_SLIDING_WINDOW_SIZE=10
CIRCUITBREAKER_SHIPPING_MINIMUM_NUMBER_OF_CALLS=5
CIRCUITBREAKER_SHIPPING_PERMITTED_NUMBER_OF_CALLS_HALF_OPEN=3
CIRCUITBREAKER_SHIPPING_AUTO_TRANSITION_ENABLED=true
CIRCUITBREAKER_SHIPPING_WAIT_DURATION=30s
CIRCUITBREAKER_SHIPPING_FAILURE_RATE_THRESHOLD=50
CIRCUITBREAKER_SHIPPING_EVENT_CONSUMER_BUFFER_SIZE=10

# Resilience4j Retry Configuration - Inventory Service
RETRY_INVENTORY_MAX_ATTEMPTS=3
RETRY_INVENTORY_WAIT_DURATION=1s
RETRY_INVENTORY_ENABLE_EXPONENTIAL_BACKOFF=true
RETRY_INVENTORY_EXPONENTIAL_BACKOFF_MULTIPLIER=2

# Resilience4j Retry Configuration - Payment Service
RETRY_PAYMENT_MAX_ATTEMPTS=3
RETRY_PAYMENT_WAIT_DURATION=1s
RETRY_PAYMENT_ENABLE_EXPONENTIAL_BACKOFF=true
RETRY_PAYMENT_EXPONENTIAL_BACKOFF_MULTIPLIER=2

# Resilience4j Retry Configuration - Shipping Service
RETRY_SHIPPING_MAX_ATTEMPTS=3
RETRY_SHIPPING_WAIT_DURATION=1s
RETRY_SHIPPING_ENABLE_EXPONENTIAL_BACKOFF=true
RETRY_SHIPPING_EXPONENTIAL_BACKOFF_MULTIPLIER=2

# Resilience4j Bulkhead Configuration - Inventory Service
BULKHEAD_INVENTORY_MAX_CONCURRENT_CALLS=10
BULKHEAD_INVENTORY_MAX_WAIT_DURATION=500ms

# Resilience4j Bulkhead Configuration - Payment Service
BULKHEAD_PAYMENT_MAX_CONCURRENT_CALLS=10
BULKHEAD_PAYMENT_MAX_WAIT_DURATION=500ms

# Resilience4j Bulkhead Configuration - Shipping Service
BULKHEAD_SHIPPING_MAX_CONCURRENT_CALLS=10
BULKHEAD_SHIPPING_MAX_WAIT_DURATION=500ms

# Resilience4j Rate Limiter Configuration - Inventory Service
RATELIMITER_INVENTORY_LIMIT_FOR_PERIOD=20
RATELIMITER_INVENTORY_LIMIT_REFRESH_PERIOD=1s
RATELIMITER_INVENTORY_TIMEOUT_DURATION=0

# Resilience4j Rate Limiter Configuration - Payment Service
RATELIMITER_PAYMENT_LIMIT_FOR_PERIOD=15
RATELIMITER_PAYMENT_LIMIT_REFRESH_PERIOD=1s
RATELIMITER_PAYMENT_TIMEOUT_DURATION=0

# Resilience4j Rate Limiter Configuration - Shipping Service
RATELIMITER_SHIPPING_LIMIT_FOR_PERIOD=15
RATELIMITER_SHIPPING_LIMIT_REFRESH_PERIOD=1s
RATELIMITER_SHIPPING_TIMEOUT_DURATION=0

# Resilience4j Time Limiter Configuration - Inventory Service
TIMELIMITER_INVENTORY_TIMEOUT_DURATION=5s
TIMELIMITER_INVENTORY_CANCEL_RUNNING_FUTURE=true

# Resilience4j Time Limiter Configuration - Payment Service
TIMELIMITER_PAYMENT_TIMEOUT_DURATION=5s
TIMELIMITER_PAYMENT_CANCEL_RUNNING_FUTURE=true

# Resilience4j Time Limiter Configuration - Shipping Service
TIMELIMITER_SHIPPING_TIMEOUT_DURATION=5s
TIMELIMITER_SHIPPING_CANCEL_RUNNING_FUTURE=true

# Resilience4j Thread Pool Bulkhead Configuration - Inventory Service
THREAD_POOL_BULKHEAD_INVENTORY_MAX_THREAD_POOL_SIZE=4
THREAD_POOL_BULKHEAD_INVENTORY_CORE_THREAD_POOL_SIZE=2
THREAD_POOL_BULKHEAD_INVENTORY_QUEUE_CAPACITY=2

# Resilience4j Thread Pool Bulkhead Configuration - Payment Service
THREAD_POOL_BULKHEAD_PAYMENT_MAX_THREAD_POOL_SIZE=4
THREAD_POOL_BULKHEAD_PAYMENT_CORE_THREAD_POOL_SIZE=2
THREAD_POOL_BULKHEAD_PAYMENT_QUEUE_CAPACITY=2

# Resilience4j Thread Pool Bulkhead Configuration - Shipping Service
THREAD_POOL_BULKHEAD_SHIPPING_MAX_THREAD_POOL_SIZE=4
THREAD_POOL_BULKHEAD_SHIPPING_CORE_THREAD_POOL_SIZE=2
THREAD_POOL_BULKHEAD_SHIPPING_QUEUE_CAPACITY=2

# Logging Configuration
LOGGING_LEVEL_ORDER=DEBUG
LOGGING_LEVEL_SPRING_WEB=INFO
LOGGING_LEVEL_HIBERNATE_SQL=DEBUG
LOGGING_LEVEL_FEIGN=DEBUG
